import{d as w}from"./main-d5dfb24a.js";import"./search-bar-sticky-top-3a112e5a.js";import{G as h}from"./Gallery-a727a01d.js";const d="/hiCraft/";window.addEventListener("load",async()=>{const u=await fetch(d+"data/crafts.json").catch(t=>{throw new Error("HTTP error! status: "+t.status)}),m=await fetch(d+"data/tag-groups.json").catch(t=>{throw new Error("Failed to fetch tag-groups data")}),[n,a]=await Promise.all([u.json(),m.json()]),f=n.filter(t=>t.tags.some(e=>e==="Popular")),y=n.filter(t=>t.tags.some(e=>a==null?void 0:a.newcomer.includes(e))),g=n.filter(t=>t.tags.some(e=>a==null?void 0:a.topic.includes(e))),o={"nav-hot-tab":{gallery:document.querySelector("#gallery-hot"),loadButton:document.querySelector("#load-gallery-hot"),crafts:f},"nav-newcomer-tab":{gallery:document.querySelector("#gallery-newcomer"),loadButton:document.querySelector("#load-gallery-newcomer"),crafts:y},"nav-topic-tab":{gallery:document.querySelector("#gallery-topic"),loadButton:document.querySelector("#load-gallery-topic"),crafts:g}},s=document.querySelectorAll("#nav-hot-tab,#nav-newcomer-tab,#nav-topic-tab");s.forEach(t=>{t.addEventListener("shown.bs.tab",e=>{const r=e.target.getAttribute("id");if(!r in o||o[r].gallery.childElementCount>0)return;const i=new h(o[r].gallery,{imgURLs:o[r].crafts.map(c=>c.imgURLs[0]),loadButton:o[r].loadButton,loadAmount:8});window.addEventListener("resize",w(()=>i.container.querySelectorAll(".gallery-item").forEach(c=>i.resizeItem(c)),100))})});const l=Array.from(s).find(t=>t.classList.contains("active"));l&&l.dispatchEvent(new Event("shown.bs.tab"))});
