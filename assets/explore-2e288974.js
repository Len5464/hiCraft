import{d as g}from"./main-523da3af.js";import"./search-bar-sticky-top-b6fb9707.js";import{G as w}from"./Gallery-5c5c8e1f.js";window.addEventListener("load",async()=>{const u=await fetch("/data/crafts.json").catch(t=>{throw new Error("HTTP error! status: "+t.status)}),m=await fetch("/data/tag-groups.json").catch(t=>{throw new Error("Failed to fetch tag-groups data")}),[n,o]=await Promise.all([u.json(),m.json()]),l=n.filter(t=>t.tags.some(e=>e==="Popular")),f=n.filter(t=>t.tags.some(e=>o==null?void 0:o.newcomer.includes(e)));console.log(l);const y=n.filter(t=>t.tags.some(e=>o==null?void 0:o.topic.includes(e))),a={"nav-hot-tab":{gallery:document.querySelector("#gallery-hot"),loadButton:document.querySelector("#load-gallery-hot"),crafts:l},"nav-newcomer-tab":{gallery:document.querySelector("#gallery-newcomer"),loadButton:document.querySelector("#load-gallery-newcomer"),crafts:f},"nav-topic-tab":{gallery:document.querySelector("#gallery-topic"),loadButton:document.querySelector("#load-gallery-topic"),crafts:y}},s=document.querySelectorAll("#nav-hot-tab,#nav-newcomer-tab,#nav-topic-tab");s.forEach(t=>{t.addEventListener("shown.bs.tab",e=>{const r=e.target.getAttribute("id");if(!r in a||a[r].gallery.childElementCount>0)return;const d=new w(a[r].gallery,{imgURLs:a[r].crafts.map(c=>c.imgURLs[0]),loadButton:a[r].loadButton,loadAmount:8});window.addEventListener("resize",g(()=>d.container.querySelectorAll(".gallery-item").forEach(c=>d.resizeItem(c)),100))})});const i=Array.from(s).find(t=>t.classList.contains("active"));i&&i.dispatchEvent(new Event("shown.bs.tab"))});
